---
phase: 07-monetization-pricing
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web-portal/app/pricing/page.tsx
  - apps/web-portal/components/pricing/pricing-table.tsx
  - apps/web-portal/lib/seo/schemas.ts
  - apps/web-portal/components/seo/json-ld.tsx
autonomous: true

must_haves:
  truths:
    - "Public pricing page displays plan comparison with features"
    - "Pricing page includes SoftwareApplication JSON-LD schema"
    - "Landing page includes Organization JSON-LD schema"
    - "Speakable schema marks key content for voice assistants"
    - "Pricing cards show monthly price per seat"
    - "Each plan has a clear CTA button"
  artifacts:
    - path: "apps/web-portal/app/pricing/page.tsx"
      provides: "Public pricing page with plan comparison"
      exports: ["default"]
    - path: "apps/web-portal/components/pricing/pricing-table.tsx"
      provides: "Reusable pricing table component"
      exports: ["PricingTable"]
    - path: "apps/web-portal/lib/seo/schemas.ts"
      provides: "JSON-LD schema definitions"
      exports: ["softwareAppSchema", "faqSchema", "organizationSchema", "speakableSchema"]
    - path: "apps/web-portal/components/seo/json-ld.tsx"
      provides: "JSON-LD script injection component"
      exports: ["JsonLd"]
  key_links:
    - from: "apps/web-portal/app/pricing/page.tsx"
      to: "components/pricing/pricing-table.tsx"
      via: "import PricingTable"
      pattern: "import.*PricingTable"
    - from: "apps/web-portal/app/pricing/page.tsx"
      to: "components/seo/json-ld.tsx"
      via: "JsonLd component with SoftwareApplication schema"
      pattern: "JsonLd.*softwareAppSchema"
    - from: "apps/web-portal/lib/seo/schemas.ts"
      to: "schema.org"
      via: "Organization and Speakable type exports"
      pattern: "organizationSchema|speakableSchema"
---

<objective>
Create public pricing page with plan comparison, SoftwareApplication JSON-LD schema, Organization schema, and Speakable markup.

Purpose: Visitors need to see pricing before signing up. SEO-optimized structured data helps search visibility. Organization schema improves brand knowledge panel. Speakable prepares content for voice assistants.
Output: Public /pricing page with Starter and Pro plans, JSON-LD markup for SoftwareApplication, Organization, and Speakable schemas.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-monetization-pricing/07-RESEARCH.md

@apps/web-portal/app/page.tsx
@apps/web-portal/components/ui/card.tsx
@apps/web-portal/components/ui/button.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create JSON-LD utility component and schema definitions</name>
  <files>
    apps/web-portal/lib/seo/schemas.ts
    apps/web-portal/components/seo/json-ld.tsx
  </files>
  <action>
Create reusable JSON-LD infrastructure with all required schema types:

1. Install schema-dts package: `npm install schema-dts --workspace=web-portal`

2. Create `apps/web-portal/lib/seo/schemas.ts`:
   - Import WithContext, SoftwareApplication, FAQPage, Organization, WebPage from schema-dts
   - Export softwareAppSchema: WebApplication type with:
     - name: "Speak for Me"
     - applicationCategory: "BusinessApplication"
     - operatingSystem: "All"
     - description: "AI-powered Slack response assistant..."
     - url: process.env.NEXT_PUBLIC_APP_URL
     - offers: AggregateOffer with lowPrice: "9", highPrice: "15", priceCurrency: "USD"
     - Individual offers for Starter ($10/seat/mo) and Pro ($15/seat/mo)
   - Export faqSchema placeholder (will be populated in Plan 02)
   - Export organizationSchema: Organization type with:
     - name: "Speak for Me"
     - url: process.env.NEXT_PUBLIC_APP_URL
     - logo: `${baseUrl}/logo.png` (or appropriate path)
     - description: "AI-powered workplace communication assistant"
     - sameAs: [] (placeholder for social links - can be populated later)
     - contactPoint: {
         @type: "ContactPoint",
         contactType: "customer support",
         email: "support@speakforme.app" (or appropriate email)
       }
   - Export speakableSchema function that takes cssSelector array:
     ```typescript
     export function createSpeakableSchema(selectors: string[]): WithContext<WebPage> {
       return {
         '@context': 'https://schema.org',
         '@type': 'WebPage',
         speakable: {
           '@type': 'SpeakableSpecification',
           cssSelector: selectors
         }
       };
     }
     ```

3. Create `apps/web-portal/components/seo/json-ld.tsx`:
   - Create JsonLd component accepting data prop of type WithContext
   - Use script tag with type="application/ld+json"
   - Use dangerouslySetInnerHTML with XSS protection: JSON.stringify(data).replace(/</g, '\\u003c')
  </action>
  <verify>
    - `npm run build --workspace=web-portal` compiles without errors
    - Grep for 'application/ld+json' in json-ld.tsx
    - Grep for 'organizationSchema' in schemas.ts
    - Grep for 'SpeakableSpecification' in schemas.ts
  </verify>
  <done>
    - JsonLd component exists and handles XSS protection
    - SoftwareApplication schema has proper pricing structure
    - Organization schema with logo, contactPoint, and sameAs
    - Speakable schema factory function for marking voice-readable content
  </done>
</task>

<task type="auto">
  <name>Task 2: Create pricing table component and pricing page</name>
  <files>
    apps/web-portal/components/pricing/pricing-table.tsx
    apps/web-portal/app/pricing/page.tsx
  </files>
  <action>
Create the pricing page with plan comparison:

1. Create `apps/web-portal/components/pricing/pricing-table.tsx`:
   - Define PLANS array with Starter and Pro plans:
     - Starter: $10/seat/mo, features: ["AI response suggestions", "Watch up to 5 channels", "Copy to clipboard", "Basic refinement"]
     - Pro: $15/seat/mo, features: ["Everything in Starter", "Unlimited channels", "Style learning", "Weekly reports", "Priority support"]
   - Create PricingCard component with:
     - Card styling with border, shadow
     - Plan name, price (large), "/seat/month" label
     - Feature list with checkmarks
     - CTA button linking to /login with plan parameter
     - Highlight "Most Popular" badge for Pro plan
   - Export PricingTable component rendering both cards in grid

2. Create `apps/web-portal/app/pricing/page.tsx`:
   - Import PricingTable, JsonLd, softwareAppSchema, organizationSchema, createSpeakableSchema
   - Export metadata with title "Pricing - Speak for Me" and description
   - Render:
     - Navigation matching landing page style
     - Hero section: "Simple, Transparent Pricing" headline (add id="pricing-headline" for speakable)
     - "Start with a 14-day free trial. No credit card required." subheadline (add id="pricing-subheadline" for speakable)
     - PricingTable component
     - JsonLd with softwareAppSchema
     - JsonLd with organizationSchema
     - JsonLd with createSpeakableSchema(['#pricing-headline', '#pricing-subheadline'])
     - Footer matching landing page

3. Style using existing Tailwind classes from landing page for consistency.
  </action>
  <verify>
    - `npm run build --workspace=web-portal` succeeds
    - Navigate to /pricing page renders correctly (manual check)
    - View page source shows JSON-LD script with SoftwareApplication type
    - View page source shows JSON-LD script with Organization type
    - View page source shows JSON-LD script with SpeakableSpecification
  </verify>
  <done>
    - /pricing page shows Starter and Pro plans with features
    - SoftwareApplication JSON-LD schema in page source
    - Organization JSON-LD schema in page source
    - Speakable JSON-LD schema marking headline content
    - CTA buttons link to login/signup flow
  </done>
</task>

</tasks>

<verification>
1. Build completes: `npm run build --workspace=web-portal`
2. Pricing page accessible at /pricing
3. JSON-LD visible in page source with correct structure (3 schemas: SoftwareApplication, Organization, Speakable)
4. Both plans display with features and pricing
</verification>

<success_criteria>
- Public pricing page at /pricing shows two plans
- SoftwareApplication JSON-LD schema in page markup
- Organization JSON-LD schema with logo and contactPoint
- Speakable JSON-LD schema marking key content
- Starter ($10) and Pro ($15) pricing clearly displayed
- "Start Free Trial" or "Get Started" CTAs on each plan
</success_criteria>

<output>
After completion, create `.planning/phases/07-monetization-pricing/07-01-SUMMARY.md`
</output>
