---
phase: 04-web-portal
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web-portal/package.json
  - apps/web-portal/tsconfig.json
  - apps/web-portal/tailwind.config.ts
  - apps/web-portal/components.json
  - apps/web-portal/app/layout.tsx
  - apps/web-portal/app/globals.css
  - apps/web-portal/lib/utils.ts
autonomous: true

must_haves:
  truths:
    - "Next.js app exists in apps/web-portal"
    - "shadcn/ui is initialized with Tailwind"
    - "App builds without errors"
  artifacts:
    - path: "apps/web-portal/package.json"
      provides: "Next.js project configuration"
      contains: "next"
    - path: "apps/web-portal/components.json"
      provides: "shadcn/ui configuration"
      contains: "shadcn"
    - path: "apps/web-portal/tailwind.config.ts"
      provides: "Tailwind configuration"
      contains: "tailwindcss"
  key_links:
    - from: "apps/web-portal/app/layout.tsx"
      to: "apps/web-portal/app/globals.css"
      via: "CSS import"
      pattern: "import.*globals.css"
---

<objective>
Create Next.js 15 web portal app with shadcn/ui component library initialized.

Purpose: Establish the frontend foundation for the web dashboard where users will configure settings and view AI learning data.
Output: Working Next.js app in monorepo with Tailwind and shadcn/ui ready for component development.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-web-portal/04-CONTEXT.md
@.planning/phases/04-web-portal/04-RESEARCH.md
@package.json
@turbo.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Next.js 15 app in monorepo</name>
  <files>
    apps/web-portal/package.json
    apps/web-portal/tsconfig.json
    apps/web-portal/next.config.ts
    apps/web-portal/app/layout.tsx
    apps/web-portal/app/page.tsx
  </files>
  <action>
Create a new Next.js 15 app in apps/web-portal using create-next-app:

```bash
cd apps/
npx create-next-app@latest web-portal --typescript --tailwind --app --no-src-dir --no-import-alias --skip-install
```

After creation, update package.json to:
- Set name to "web-portal"
- Add dependency on @slack-speak-for-me/database using workspace protocol
- Add jose, zod, react-hook-form, @hookform/resolvers as dependencies
- Set scripts for dev (port 3001 to avoid conflict with slack-backend)

Update tsconfig.json to:
- Add path alias "@/*" pointing to "./*"
- Extend from root tsconfig if exists, otherwise use standard Next.js config

Update next.config.ts to:
- Enable transpilePackages for workspace packages
- Set output to 'standalone' for Docker deployment later

Run npm install from root to install all dependencies.

DO NOT use `--use-npm` flag - let it create package-lock in the workspace, root npm install handles workspaces.
  </action>
  <verify>
    npm run build --workspace=web-portal completes without errors
    ls apps/web-portal/package.json confirms file exists
  </verify>
  <done>Next.js 15 app exists in apps/web-portal with proper monorepo integration</done>
</task>

<task type="auto">
  <name>Task 2: Initialize shadcn/ui with core components</name>
  <files>
    apps/web-portal/components.json
    apps/web-portal/tailwind.config.ts
    apps/web-portal/app/globals.css
    apps/web-portal/lib/utils.ts
    apps/web-portal/components/ui/button.tsx
    apps/web-portal/components/ui/form.tsx
    apps/web-portal/components/ui/input.tsx
    apps/web-portal/components/ui/label.tsx
    apps/web-portal/components/ui/card.tsx
    apps/web-portal/components/ui/select.tsx
    apps/web-portal/components/ui/textarea.tsx
    apps/web-portal/components/ui/toast.tsx
    apps/web-portal/components/ui/toaster.tsx
  </files>
  <action>
Initialize shadcn/ui in the web-portal app:

```bash
cd apps/web-portal
npx shadcn@latest init
```

When prompted, select:
- Style: Default
- Base color: Slate (neutral, professional)
- CSS variables: Yes

Then add core components needed for dashboard:

```bash
npx shadcn@latest add button form input label card select textarea toast
```

Update tailwind.config.ts to extend content paths to include components directory.

Update app/globals.css to include shadcn base styles if not already present.

Create lib/utils.ts with cn() helper function for class merging (shadcn creates this, verify it exists).

Update app/layout.tsx to:
- Import globals.css
- Add Toaster component for notifications
- Set proper html lang and body classes

Verify components are properly exported from components/ui/ directory.
  </action>
  <verify>
    ls apps/web-portal/components/ui/ shows button.tsx, form.tsx, etc.
    cat apps/web-portal/components.json shows shadcn configuration
    npm run build --workspace=web-portal still passes
  </verify>
  <done>shadcn/ui initialized with button, form, input, label, card, select, textarea, toast components</done>
</task>

<task type="auto">
  <name>Task 3: Update turbo.json and verify monorepo integration</name>
  <files>
    turbo.json
  </files>
  <action>
Verify turbo.json handles the new web-portal app correctly:

1. Check that existing turbo.json tasks (build, dev, clean) will automatically include web-portal since it's in apps/*

2. Run full monorepo build to verify integration:
```bash
npm run build
```

3. Test dev server starts on port 3001:
```bash
cd apps/web-portal && npm run dev -- --port 3001
```
(Stop after verifying it starts)

4. Verify web-portal can import from database package by adding a test import in app/page.tsx:
```typescript
// Test import - remove in next plan
import { workspaces } from '@slack-speak-for-me/database';
console.log('Database package loaded');
```

Build again to confirm the cross-package import works, then remove the test import.

If turbo.json needs updates for Next.js caching (.next directory), add them.
  </action>
  <verify>
    npm run build completes without errors
    npm run dev --workspace=web-portal starts on port 3001
  </verify>
  <done>Web-portal fully integrated into monorepo build pipeline</done>
</task>

</tasks>

<verification>
1. apps/web-portal/ directory exists with full Next.js structure
2. npm run build --workspace=web-portal succeeds
3. npm run dev --workspace=web-portal starts server on port 3001
4. shadcn/ui components exist in apps/web-portal/components/ui/
5. Monorepo can import from @slack-speak-for-me/database package
</verification>

<success_criteria>
- Next.js 15 app scaffolded with TypeScript and App Router
- shadcn/ui initialized with 8 core components
- Tailwind CSS configured with shadcn presets
- Monorepo integration working (build, dev commands)
- Cross-package imports from database package work
</success_criteria>

<output>
After completion, create `.planning/phases/04-web-portal/04-01-SUMMARY.md`
</output>
